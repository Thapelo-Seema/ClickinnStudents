<ion-header>
  <ion-toolbar color="thapsblue">
    <ion-buttons slot="start">
      <ion-back-button auto-hide="false"></ion-back-button>
    </ion-buttons>
    <ion-title tappable slot="start" class="main-header4" (click)="seeSearch()">RESULTS</ion-title>
  </ion-toolbar>
  <ion-toolbar color="thapsblue">
    <ion-grid fixed class="ion-no-padding">
      <ion-searchbar color="" placeholder="{{rooms?.length}} rooms matched!"  search-icon="search-outline"  [disabled]="true">
      </ion-searchbar>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="rooms.length == 0 && !show_search" class="ion-text-center ion-margin-top">
    <ion-button  strong=true mode="ios" fill="outline" color="thapsblue" href="{{generateWhatsAppLink()}}">
      <p class="ion-text-wrap"><ion-text color="thapsblue">Submit Search To Clickinn WhatsApp</ion-text></p>
      <ion-icon name="logo-whatsapp" color="thapsblue" slot="start"></ion-icon>
      <ion-icon name="arrow-redo-outline" color="thapsblue" slot="end"></ion-icon>
    </ion-button>
  </div>
  
  <div id="container" *ngIf="rooms.length == 0 && !show_search">
    <strong class="capitalize">
      <ion-text color="lightgray">No Results</ion-text>
    </strong>
    <br>
    <ion-icon name="bulb-outline" class="empty-icon-circle icon-large empty-icon-color"></ion-icon>
    <br>
    <ion-button strong=true mode="ios" color="warning" href="{{generateWhatsAppLink()}}">
      <ion-text color="light">Submit To Clickinn WhatsApp</ion-text>
      <ion-icon name="logo-whatsapp" color="light" slot="end"></ion-icon>
      <ion-icon name="arrow-redo-outline" color="light" slot="end"></ion-icon>
    </ion-button>
    <p class="ion-text-center ion-padding"><ion-text color="thapsblue" ><strong>SUBMIT TO CLICKINN WHATSAPP</strong>, and our agents will contact you once they have found a place for you.</ion-text></p>
    
  </div>



  <ion-grid *ngIf="show_search" fixed class="ion-no-padding">
    <div id="profile1-info" class="test-class" padding>
      <h3 id="profile1-name">{{search.searcher?.firstname}} {{search.searcher?.lastname}}</h3>
    </div>
      <ion-row>
        <ion-col class="padding-left-25" size-lg="6" size-md="6" size-sm="12" size="12">
          <!--***********  Contact  ***********-->
          <ion-item lines="none">
            <h1 class="main-header5">Details</h1>
          </ion-item>
          <ion-list>
            <ion-item lines="none">
              <ion-icon slot="start" name="pin-outline" item-left></ion-icon>
              <ion-label>
                <h2>Preferred Area</h2>
                <p>{{search.institution_address?.neighbourhood}}</p>
              </ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="school-outline" item-left></ion-icon>
              <ion-label>
                <h2>Institution & Campus</h2>
                <p>{{search.institution_and_campus}}</p>
              </ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="bed-outline" item-left></ion-icon>
              <ion-label>
                <h2>Room Type</h2>
                <p>{{search?.room_type}}</p>
              </ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="calculator-outline" item-left></ion-icon>
              <ion-label>
                <h2>Max Rent</h2>
                <p>{{search?.max_price}}</p>
              </ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="card-outline" item-left></ion-icon>
              <ion-label>
                <h2>Funding Type</h2>
                <p>{{search?.funding_type}}</p>
              </ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="male-female-outline" item-left></ion-icon>
              <ion-label>
                <h2>Gender Prefference</h2>
                <p>{{search?.gender_prefference}}</p>
              </ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="car-outline" item-left></ion-icon>
              <ion-label>
                <h2>Parking needed</h2>
                <p>{{search.parking_needed ? 'Yes': 'No'}}</p>
              </ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="document-outline" item-left></ion-icon>
              <ion-label>
                <h2>Special needs</h2>
                <p class="ion-text-wrap">{{search?.special_needs}}</p>
              </ion-label>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="ion-text-center">
          <ion-button (click)="close()">
            Close
          </ion-button>
        </ion-col>
      </ion-row>
</ion-grid>









  <ion-grid *ngIf="!show_search" fixed class="ion-no-padding">
    <ion-card tappable mode="ios"  *ngFor="let room of rooms" (click)="gotoRoom(room)">
          <ion-item lines="none">
            <ion-label>
              <h3>{{room.room_type}}</h3>
              <p>{{ room.rent | currency : 'R' : 'symbol' : '1.0-0' }}</p>
            </ion-label>
          </ion-item>
          <ion-slides pager style="background-color: #dddddd;">
              <ng-container *ngFor="let images of  room.pictures | slice:1">
            <ion-slide  [ngStyle]="{'background' : 'url(' + images.url + ')'}">
            </ion-slide>
              </ng-container>
          </ion-slides>
        
      <ion-card-content>
        <ion-card-title>
          <h3 class="main_header4">  {{room.property.address.neighbourhood}}</h3>
        </ion-card-title>
        <p>
          {{room.description}}
        </p>
      </ion-card-content>
      
      <ion-row>
          <ion-col>
            

            <ion-button fill="clear" size="small" color="dark">
              <ion-icon slot="start"  name="heart-outline" color="medium"></ion-icon>
              <!-- <ion-badge color="danger">2.3k</ion-badge> -->
              <ion-label> {{room.search_rating}}</ion-label>
            </ion-button>     
            <!-- <ion-button fill="clear" size="small" color="dark">
              <ion-icon slot="start" name="ios-chatboxes" color="gray"></ion-icon>
              {{feed.comment}}
            </ion-button> -->
            <!-- <ion-button fill="clear" size="small" color="dark">
                <ion-icon slot="start" name="ios-heart" color="gray"></ion-icon>
                {{feed.like}}
            </ion-button> -->
          </ion-col>
    
          <!-- <ion-col center class="ion-text-right"> 
            <ion-button fill="clear" size="small" color="dark">
              <ion-icon slot="start"  name="arrow-redo-outline" color="medium"></ion-icon>
              
              <ion-label> REPLY</ion-label>
            </ion-button>  
          </ion-col> -->
      </ion-row>
  
    </ion-card>
  <!-- 
    <ion-fab right bottom>
        <button ion-fab color="amber"><ion-icon name="md-share"></ion-icon></button>
        <ion-fab-list side="top">
          <button ion-fab><ion-icon name="logo-facebook"></ion-icon></button>
          <button ion-fab><ion-icon name="logo-twitter"></ion-icon></button>
          <button ion-fab><ion-icon name="logo-vimeo"></ion-icon></button>
          <button ion-fab><ion-icon name="logo-googleplus"></ion-icon></button>
        </ion-fab-list>
    </ion-fab> -->
</ion-grid>


</ion-content>
